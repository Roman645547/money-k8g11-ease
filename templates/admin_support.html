<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="main-header">
            <div class="container">
                <nav class="main-nav">
                    <div class="nav-brand">
                        <div class="site-logo admin-logo">
                            <span class="logo-text">k8g11</span>
                            <span class="logo-separator">-</span>
                            <span class="logo-title">Money</span>
                        </div>
                        <h1 class="main-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏</h1>
                    </div>
                    <div class="nav-menu">
                        <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a href="/admin/support" class="nav-link active">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
                        <a href="/support" class="nav-link">–û–±—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</a>
                    </div>
                </nav>
                <p class="main-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
            </div>
        </header>

        <main class="main-content">
            <div class="container">
                <div class="admin-container">
                    <div class="admin-panel">
                        <div class="panel-header">
                            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏</h2>
                            <div class="panel-controls">
                                <button id="refresh-tickets" class="refresh-button">
                                    <span class="refresh-icon">üîÑ</span>
                                    –û–±–Ω–æ–≤–∏—Ç—å
                                </button>
                                <div class="admin-info">
                                    <input type="text" id="admin-name"
                                           placeholder="–í–∞—à–µ –∏–º—è (–∞–¥–º–∏–Ω)"
                                           class="admin-input">
                                </div>
                            </div>
                        </div>


                        <div class="filters">
                            <div class="filter-group">
                                <label for="filter-status">–°—Ç–∞—Ç—É—Å:</label>
                                <select id="filter-status">
                                    <option value="all">–í—Å–µ</option>
                                    <option value="new">–ù–æ–≤—ã–µ</option>
                                    <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                    <option value="resolved">–†–µ—à–µ–Ω–æ</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-date">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                                <select id="filter-date">
                                    <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                                    <option value="oldest">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                                </select>
                            </div>
                            <button id="apply-filters" class="filter-button">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        </div>


                        <div class="tickets-list" id="tickets-list">
                            <div class="loading-state">
                                <div class="spinner"></div>
                                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="main-footer">
            <div class="container">
                <div class="footer-content">
                    <p class="footer-text">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å k8g11 - Money</p>
                    <p class="footer-source">–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</p>
                    <p class="footer-server">–ó–∞–ø—É—â–µ–Ω–æ –Ω–∞ Flask —Å–µ—Ä–≤–µ—Ä–µ</p>
                </div>
            </div>
        </footer>
    </div>


    <div id="reply-modal" class="modal">
        <div class="modal-content wide-modal">
            <div class="modal-header">
                <h2 id="reply-modal-title">–û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ #</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ticket-info">
                    <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞—â–µ–Ω–∏–∏</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <strong>–ò–º—è:</strong> <span id="modal-user-name"></span>
                        </div>
                        <div class="info-item">
                            <strong>Email:</strong> <span id="modal-user-email"></span>
                        </div>
                        <div class="info-item">
                            <strong>–¢–µ–º–∞:</strong> <span id="modal-subject"></span>
                        </div>
                        <div class="info-item">
                            <strong>–î–∞—Ç–∞:</strong> <span id="modal-date"></span>
                        </div>
                    </div>

                    <div class="message-box">
                        <strong>–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong>
                        <p id="modal-message" class="user-message"></p>
                    </div>
                </div>

                <div class="reply-form">
                    <div class="form-group">
                        <label for="reply-text">–í–∞—à –æ—Ç–≤–µ—Ç *</label>
                        <textarea id="reply-text" rows="8"
                                  placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å..."
                                  minlength="10" maxlength="2000"></textarea>
                        <div class="char-counter">
                            <span id="reply-char-count">0</span> / 2000 —Å–∏–º–≤–æ–ª–æ–≤
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="reply-status">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</label>
                        <select id="reply-status">
                            <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                            <option value="resolved">–†–µ—à–µ–Ω–æ</option>
                            <option value="new">–ù–æ–≤—ã–π (—Å–±—Ä–æ—Å–∏—Ç—å)</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-reply" class="secondary-button">–û—Ç–º–µ–Ω–∞</button>
                <button id="submit-reply" class="primary-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
                <button id="delete-ticket" class="danger-button">–£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</button>
            </div>
        </div>
    </div>

<a href="support" class="support-btn" target="_blank" title="–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞">
        <div class="support-btn__icon">?</div>
</a>

    <script src="{{ url_for('static', filename='js/admin_support.js') }}"></script>
</body>
</html>